
<!DOCTYPE html>
<html>
<head>
    <title>Clickjacking Validation Test - https://example.com/login</title>
    <style>
        body { margin: 0; padding: 20px; font-family: Arial, sans-serif; }
        .test-container { border: 2px solid #333; padding: 10px; margin: 10px 0; }
        .iframe-container { width: 100%; height: 500px; border: 1px solid red; }
        iframe { width: 100%; height: 100%; border: none; }
        .result { margin: 10px 0; padding: 10px; }
        .success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .failure { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
    </style>
</head>
<body>
    <h1>üîç Clickjacking Validation Test</h1>
    <div class="test-container">
        <h2>Target: https://example.com/login</h2>
        <p>X-Frame-Options: MISSING</p>
        <p>CSP frame-ancestors: MISSING</p>
    </div>
    
    <div class="test-container">
        <h2>IFrame Embedding Test</h2>
        <div class="iframe-container">
            <iframe src="https://example.com/login" id="targetFrame"></iframe>
        </div>
        <div id="testResult" class="result">Testing iframe loading...</div>
    </div>
    
    <script>
        const iframe = document.getElementById('targetFrame');
        const resultDiv = document.getElementById('testResult');
        
        iframe.onload = function() {
            try {
                // Try to access iframe content (same-origin test)
                const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                resultDiv.className = 'result success';
                resultDiv.innerHTML = '‚úÖ IFrame loaded successfully - VULNERABLE to clickjacking';
            } catch(e) {
                // Cross-origin - but iframe still loaded
                resultDiv.className = 'result success';
                resultDiv.innerHTML = '‚úÖ IFrame loaded (cross-origin) - VULNERABLE to clickjacking';
            }
        };
        
        iframe.onerror = function() {
            resultDiv.className = 'result failure';
            resultDiv.innerHTML = '‚ùå IFrame blocked by X-Frame-Options or CSP - NOT VULNERABLE';
        };
        
        // Timeout after 10 seconds
        setTimeout(function() {
            if (resultDiv.innerHTML === 'Testing iframe loading...') {
                resultDiv.className = 'result failure';
                resultDiv.innerHTML = '‚ùå IFrame failed to load - NOT VULNERABLE or network error';
            }
        }, 10000);
    </script>
</body>
</html>
        